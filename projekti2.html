<!-- SMARS -->
<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>3D-tulostettu robottialusta - Teemu Koivuniemi</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">Teemu Koivuniemi</a>
      <ul class="nav-menu">
        <li><a href="index.html" class="nav-link">Etusivu</a></li>
        <li><a href="projektit.html" class="nav-link">Projektit</a></li>
        <li><a href="yhteystiedot.html" class="nav-link">Yhteystiedot</a></li>
      </ul>
    </div>
  </nav>
  <div class="image-gallery">
    <button id="prev-btn" class="nav-btn">&lt;</button>
    <img id="main-image" class="main-image" src="images/projekti2_1.jpg" alt="Pääkuva">
    <button id="next-btn" class="nav-btn">&gt;</button>
  </div>
  <div class="thumbnails">
    <img class="thumbnail active" src="images/projekti2_1.jpg" alt="Kuva 1">
    <img class="thumbnail" src="images/projekti2_2.jpg" alt="Kuva 2">
    <img class="thumbnail" src="images/projekti2_3.jpg" alt="Kuva 3">
    <img class="thumbnail" src="images/projekti2_4.jpg" alt="Kuva 3">
    <img class="thumbnail" src="images/projekti2_5.jpg" alt="Kuva 3">
    <!-- Lisää tarvittaessa lisää kuvia -->
  </div>
    <section class="projekti-details">
  <h3 class="project-category">SMARS-botti</h3>

<div class="project-section">
  <h4>Kuvaus</h4>
  <p>Netissä vastaan tullut projekti, joka yhdistää elektroniikkaa, 3D-tulostusta sekä koodia.</p>
</div>

<div class="project-section">
  <h4>Komponentit</h4>
  <ul>
    <li>Arduino Uno</li>
    <li>L293D-mooottoriohjain</li>
    <li>2x N20 DC-moottorit</li>
    <li>TSOP4838-infrapunasensori</li>
    <li>HC-SR04-ultraäänisensori</li>
    <li>9V paristo</li>
    <li>3D-tulostettu runko</li>
  </ul>
</div>

<div class="project-section">
  <h4>Kulunut aika</h4>
  <p>Noin 10 tuntia yhteensä suunnitteluun, tulostukseen, kytkentöihin ja ohjelmointiin.</p>
</div>

<div class="project-section">
  <h4>Opiut asiat</h4>
  <ul>
    <li>IR-vastaanottimen toiminta (TSOP4838)</li>
    <li>Ultraäänisensorin kytkentä ja koodaus (HC-SR04)</li>
    <li>3D-tulosteen mitoitus oikeaan käyttöön</li>
  </ul>
</div>

<div class="project-section">
  <h4>Haasteet</h4>
  <ul>
    <li>Moottorien virtatarve vs. Arduinon teho</li>
    <li>IR-signaalin vastaanoton luotettavuus kirkkaassa valossa</li>
    <li>Kompaktin rakenteen suunnittelu ja johdotuksen hallinta</li>
  </ul>
</div>
<div class="project-section">
  <h4>Koodi</h4>
  <div class="code-block">
    <pre><code>
#include "IRremote.hpp"

#define speed_left_motor 245
#define speed_right_motor 200

int IR_RECEIVE_PIN = 2;   // Ir receiver 
int motor1_forward = 3;   //  Moottori 1 (Vasen) eteenpäin  L293D pin 2 
int motor1_backward = 4;  //  Moottori 1 (Vasen) taaksepäin L293D pin 7
int motor1_enable = 5;    //  PWM motor control             L293D pin 1
int motor2_enable = 6;    //  PWM motor control             L293D pin 9
int motor2_backward = 7;  //  Moottori 2 (Oikea) eteenpäin  L293D pin 10
int motor2_forward = 8;   //  Moottori 2 (Oikea) taaksepäin L293D pin 15


void setup() {
    Serial.begin(9600);  // Alustetaan sarjaportti
    IrReceiver.begin(IR_RECEIVE_PIN, ENABLE_LED_FEEDBACK); //ir receiver setup

    // Aseta moottorin ohjauspinneille OUTPUT-tila
    pinMode(motor1_forward, OUTPUT);
    pinMode(motor1_backward, OUTPUT);
    pinMode(motor1_enable, OUTPUT);
    pinMode(motor2_enable, OUTPUT);
    pinMode(motor2_forward, OUTPUT);
    pinMode(motor2_backward, OUTPUT);


    Serial.println("IR Receiver is ready to receive signals...");
}

void loop() {
  if (IrReceiver.decode()) {
    IrReceiver.printIRResultShort(&Serial);
    uint16_t command = IrReceiver.decodedIRData.command;
    switch(command){
      case 0x18:
        moveForward();
        break;
      case 0x52:
        moveBackward();
        break;
      case 0x8:
        turnLeft();
        break;
      case 0x5A:
        turnRight();
        break;
      case 0x1C:
        stopMotors();
        break;
      default:
        Serial.println("?");
    }
    IrReceiver.resume();
  }
}

void moveForward() {
    digitalWrite(motor1_forward, HIGH);
    digitalWrite(motor1_backward, LOW);
    digitalWrite(motor2_forward, HIGH);
    digitalWrite(motor2_backward, LOW);
    analogWrite(motor1_enable, speed_left_motor);
    analogWrite(motor2_enable, speed_right_motor);
    Serial.println("Moving forward");
}

// Funktio liikkumiseen taaksepäin
void moveBackward() {
    digitalWrite(motor1_forward, LOW);
    digitalWrite(motor1_backward, HIGH);
    digitalWrite(motor2_forward, LOW);
    digitalWrite(motor2_backward, HIGH);
    analogWrite(motor1_enable, speed_left_motor);
    analogWrite(motor2_enable, speed_right_motor);
    Serial.println("Moving backward");
}

// Funktio kääntymiseen vasemmalle
void turnLeft() {
    digitalWrite(motor1_forward, LOW);
    digitalWrite(motor1_backward, HIGH);
    digitalWrite(motor2_forward, HIGH);
    digitalWrite(motor2_backward, LOW);
    analogWrite(motor1_enable, speed_left_motor);
    analogWrite(motor2_enable, speed_right_motor);
    Serial.println("Turning left");
}

// Funktio kääntymiseen oikealle
void turnRight() {
    digitalWrite(motor1_forward, HIGH);
    digitalWrite(motor1_backward, LOW);
    digitalWrite(motor2_forward, LOW);
    digitalWrite(motor2_backward, HIGH);
    analogWrite(motor1_enable, speed_left_motor);
    analogWrite(motor2_enable, speed_right_motor);
    Serial.println("Turning right");
}

// Funktio moottoreiden pysäyttämiseen
void stopMotors() {
    digitalWrite(motor1_forward, LOW);
    digitalWrite(motor1_backward, LOW);
    digitalWrite(motor2_forward, LOW);
    digitalWrite(motor2_backward, LOW);
    Serial.println("Motors stopped");
}

    </code></pre>
  </div>
</div>


</div>

<div class="project-navigation" id="project-navigation">
  <a href="projekti1.html" class="nav-button" id="prev-project">← Edellinen projekti</a>
  <a href="projektit.html" class="nav-button" id="back-to-projects">Takaisin projekteihin</a>
  <a href="projekti3.html" class="nav-button" id="next-project">Seuraava projekti →</a>
</div>



  <footer>
    <p>&copy; 2025 Teemu Koivuniemi. Kaikki oikeudet pidätetään.</p>
  </footer>
  <script src="updateimage.js"></script>
</body>
</html>
